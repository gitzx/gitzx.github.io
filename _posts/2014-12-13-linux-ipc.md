---
date: 2014-12-13 10:18:30+00:00
layout: post
title: Linux下进程间通信(IPC)小结
thread: 96
categories: network-programming
tags: network-programming
---

之前小结了进程间交换信息的一些方法如fork或exec或通过文件系统，在这小结下进程间通信的IPC技术(InterProcess Communication).

linux下进程间通信通信方式可以分为两种：

- 管道(PIPE)机制。在Linux文本流中，我们提到可以使用管道将一个进程的输出和另一个进程的输入连接起来，从而利用文件操作API来管理进程间通信。在shell中经常使用管道。管道局限于父子进程间的通信（不包括命名管道FIFO）。

- 传统IPC，这些IPC的特点是允许多进程之间共享资源，同时共享资源须解决线程同步的问题。主要指：

（1）消息队列(message queue)：在硬、软中断中无法无阻塞的接收数据；

（2）信号量(semaphore)：无法介于内核态和用户态使用；

（3）共享内存(shared memory)：需要信号量辅助。

（4）套接字(socket)：在硬、软中断中无法无阻塞的接收数据。


###管道###

管道有两种限制：

（1）半双工，数据只能在一个方向上移动；

（2）只能在有公共祖先的进程间使用。通常，一个管道由一个进程创建，然后该进程调用fork，此后父、子进程之间就可以应用该管道。

其中，命名管道(FIFO)没有第二种限制，流管道没有第一种限制。

管道的创建：

	{% highlight C++ %}
	#include <unistd.h>
	//成功返回0，失败返回-1
	int pipe(int filedes[2]);
	{% endhighlight %}










